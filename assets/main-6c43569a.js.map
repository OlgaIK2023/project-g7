{"version":3,"file":"main-6c43569a.js","sources":["../../src/js/render-functions.js","../../src/js/themechange.js","../../src/js/modalwindow.js","../../src/js/mob-menu.js"],"sourcesContent":["import axios from \"axios\";\n\nconst categoryList = document.querySelector('.category-list'),\n    galleryList = document.querySelector('.gallery-list'),\n    allCategories = document.querySelector('#all-categories'),\n    categoryName = document.querySelector('.category-title');\n\nasync function fetchCategories() {\n    const response = await axios.get(`https://books-backend.p.goit.global/books/category-list`);\n    return response;\n}\nasync function fetchTopCategories() {\n    const response = await axios.get('https://books-backend.p.goit.global/books/top-books');\n    return response;\n}\nasync function fetchBooksByCategory(selectedCategory) {\n    const response = await axios.get(`https://books-backend.p.goit.global/books/category?category=${selectedCategory}`);\n    return response;\n}\nasync function fetchBookById(bookId) {\n    const response = await axios.get(`https://books-backend.p.goit.global/books/${bookId}`);\n    return response.data;\n}\n\nasync function showBookById() {\n    const bookId = \"643282b1e85766588626a0b2\";\n    const response = await fetchBookById(bookId);\n    // console.log(response);\n}\nasync function showCategoryList() {\n    const response = await fetchCategories();\n    renderCategory(response.data);\n}\n\nasync function showAllCategories() {\n    const response = await fetchTopCategories();\n\n    for (let i = 0; i < 4; i++) {\n        renderListGroup(response.data[i]);\n    }\n\n    // const seeMoreBtn = document.querySelectorAll('.see-more-btn');\n    // seeMoreBtn.forEach(button => {\n    //     button.addEventListener('click', (e) => {\n    //         console.log(e.target.parentNode.firstChild);\n    //         console.log('asasas');\n    //     })\n    // })\n}\nallCategories.classList.add('all');\n\nshowAllCategories();\nshowCategoryList();\n\nfunction renderCategory(data) {\n    const markup = data.map(({ list_name }) => {\n        return `\n        <li class=\"category-list-item\">\n            <h4 class=\"category-name\">${list_name}</h4>\n        </li>`;\n    }).join('');\n    categoryList.innerHTML += markup;\n}\nfunction renderTopCategoriesBooks(data) {\n    const markup = data.map(({ _id, book_image, author, title }) => {\n        return `\n        <li class=\"gallery-item\" id=\"${_id}\">\n            <div class=\"ig-wrapper\">\n                <img src=\"${book_image}\" alt=\"\" class=\"book-cover\" />\n            </div>\n            <h3 class=\"book-title\">${isCorrectTextLength(title)}</h3>\n            <h5 class=\"book-author\">${isCorrectTextLength(author)}</h5>\n        </li>`\n    }).join('');\n    return markup;\n}\nfunction renderListGroup(data) {\n    allCategories.classList.add('all');\n    const categoryTitle = 'Best Sellers Books';\n    renderCategoryTitleByColors(categoryTitle);\n\n    const { _id, list_name, books } = data;\n    const markup = `\n    <li class=\"gallery-list-group\">\n      <h3 class=\"list-group-name\">${list_name}</h3>\n        <ul class=\"gallery-list-item\">\n          ${renderTopCategoriesBooks(books)}\n        </ul>\n      <button class=\"see-more-btn\">See more</button>\n    </li>\n  `;\n    galleryList.innerHTML += markup;\n}\nfunction renderListByCategory(data) {\n\n    const categoryTitle = data[0].list_name; //беремо назву категорії у першого елемента\n    renderCategoryTitleByColors(categoryTitle);\n    const markup = data.map(({ _id, book_image, title, author }) => {\n        return `\n        <li class=\"gallery-item\" id=\"${_id}\">\n          <img src=\"${book_image}\" alt=\"${title}\" class=\"book-cover\" />\n          <h3 class=\"book-title\">${isCorrectTextLength(title)}</h3>\n          <h5 class=\"book-author\">${isCorrectTextLength(author)}</h5>\n        </li>`\n    }).join('');\n    galleryList.innerHTML = markup;\n}\n\nasync function renderPageByCategory(e) {\n    if (e.target === e.currentTarget) return;\n    const categoryName = e.target.textContent;\n\n    try {\n        const response = await fetchBooksByCategory(categoryName);\n        galleryList.innerHTML = '';\n        if (response.data.length != 0) {\n            galleryList.style.cssText = 'flex-direction: row; flex-wrap: wrap';\n            renderListByCategory(response.data);\n        } else {\n            showAllCategories();\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nfunction isCorrectTextLength(text) {\n    const maximumSymbolsCount = 15;\n    return (text.length >= maximumSymbolsCount) ? `${text.slice(0, maximumSymbolsCount)}...` : text;\n}\n\nfunction renderCategoryTitleByColors(categoryTitle) {\n    let arrayFromBlackWords = categoryTitle.split(' ');\n    const blueWord = arrayFromBlackWords[arrayFromBlackWords.length - 1];\n    arrayFromBlackWords = arrayFromBlackWords.slice(0, arrayFromBlackWords.length - 1);\n    const blackWords = arrayFromBlackWords.join(' ');\n\n    categoryName.textContent = `${blackWords}`;\n    categoryName.nextElementSibling.textContent = `${blueWord}`;\n}\n\n//додаємо обробники подій\ncategoryList.addEventListener('click', renderPageByCategory);\nallCategories.addEventListener('click', showAllCategories);\n\n\n\n","const switcher = document.querySelector('#theme');\nconst body = document.body;\nconst section = document.querySelector('.homepage');\nconst buttonSeeMore = document.querySelectorAll('.see-more-btn');\n// console.log(categoryName);\nconst header = document.querySelector('header');\nconst icons = [document.querySelector('.icon-menu'),\n    document.querySelector('.icon-logo'),\n    document.querySelector('.nav-shopping'),\n    document.querySelector('.shopping-icon'),\n    document.querySelector('.icon-close')];\nswitcher.addEventListener('click', changeTheme);\nfunction changeTheme() {\n    if (switcher.checked) {\n        icons.forEach(icon => icon.classList.add('dark-icons'));\n        section.classList.add('dark-mode-body');\n        body.classList.add('dark-mode-body');\n        header.classList.add('dark-mode-header'); \n        // categoryName.classList.add('dark-color-list');\n        // buttonSeeMore.classList.add( );\n    } else {\n        icons.forEach(icon => icon.classList.remove('dark-icons'));\n        body.classList.remove('dark-mode-body');\n        header.classList.remove('dark-mode-header'); \n        section.classList.remove('dark-mode-body');\n    }\n    \n};","const modal = document.querySelector('.backdrop');\nconst closeModalWindow = document.querySelector('.close-modal');\n\nfunction closeModal() {\n  modal.classList.add('close');\n  removeEventListeners();\n}\n\nfunction removeEventListeners() {\n  closeModalWindow.removeEventListener('click', closeModal);\n  modal.removeEventListener('click', modalClickHandler);\n  document.removeEventListener('keydown', keydownHandler);\n}\n\nfunction modalClickHandler(event) {\n  if (event.target === modal) {\n    closeModal();\n  }\n}\n\nfunction keydownHandler(event) {\n  if (event.key === 'Escape' && !modal.classList.contains('close')) {\n    closeModal();\n  }\n}\n\ncloseModalWindow.addEventListener('click', closeModal);\nmodal.addEventListener('click', modalClickHandler);\ndocument.addEventListener('keydown', keydownHandler);\n","const buttonClose = document.querySelector('.btn-close');\nconst buttonMenu = document.querySelector('.btn-menu');\nbuttonMenu.addEventListener('click', openModalMenu);\nconst modalMenu = document.querySelector('.menu-section');\n\nbuttonClose.addEventListener('click', closeModalMenu);\nfunction closeModalMenu(){\nmodalMenu.classList.remove('is-open');\nbuttonMenu.classList.remove('hidden');\nbuttonClose.classList.add('hidden');\n}\n\nfunction openModalMenu() {\n    modalMenu.classList.add('is-open');\n    buttonMenu.classList.add('hidden');\n    buttonClose.classList.remove('hidden');\n}\n\n"],"names":["categoryList","galleryList","allCategories","categoryName","fetchCategories","axios","fetchTopCategories","fetchBooksByCategory","selectedCategory","showCategoryList","response","renderCategory","showAllCategories","i","renderListGroup","data","markup","list_name","renderTopCategoriesBooks","_id","book_image","author","title","isCorrectTextLength","renderCategoryTitleByColors","books","renderListByCategory","categoryTitle","renderPageByCategory","error","text","arrayFromBlackWords","blueWord","blackWords","switcher","body","section","header","icons","changeTheme","icon","modal","closeModalWindow","closeModal","removeEventListeners","modalClickHandler","keydownHandler","event","buttonClose","buttonMenu","openModalMenu","modalMenu","closeModalMenu"],"mappings":"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"}