{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/themechange.js"],"sourcesContent":["import axios from \"axios\";\n\nconst categoryList = document.querySelector('.category-list'),\n    galleryList = document.querySelector('.gallery-list'),\n    allCategories = document.querySelector('#all-categories'),\n    categoryName = document.querySelector('.category-title');\n\nasync function fetchCategories() {\n    const response = await axios.get(`https://books-backend.p.goit.global/books/category-list`);\n    return response;\n}\nasync function fetchTopCategories() {\n    const response = await axios.get('https://books-backend.p.goit.global/books/top-books');\n    return response;\n}\nasync function fetchBooksByCategory(selectedCategory) {\n    const response = await axios.get(`https://books-backend.p.goit.global/books/category?category=${selectedCategory}`);\n    return response;\n}\nasync function fetchBookById(bookId) {\n    const response = await axios.get(`https://books-backend.p.goit.global/books/${bookId}`);\n    return response.data;\n}\n\nasync function showBookById() {\n    const bookId = \"643282b1e85766588626a0b2\";\n    const response = await fetchBookById(bookId);\n    // console.log(response);\n}\nasync function showCategoryList() {\n    const response = await fetchCategories();\n    renderCategory(response.data);\n\n}\nasync function showAllCategories() {\n    const response = await fetchTopCategories();\n    for (let i = 0; i < 4; i++) {\n        renderListGroup(response.data[i]);\n    }\n    // const seeMoreBtn = document.querySelectorAll('.see-more-btn');\n    // seeMoreBtn.forEach(button => {\n    //     button.addEventListener('click', (e) => {\n    //         console.log(e.target.parentNode.firstChild);\n    //         console.log('asasas');\n    //     })\n    // })\n}\n\nshowCategoryList();\nshowAllCategories();\n\nfunction renderCategory(data) {\n    const markup = data.map(({ list_name }) => {\n        return `\n      <li class=\"category-list-item\">\n\t\t\t\t<h4 class=\"category-name\">${list_name}</h4>\n\t\t\t</li>\n    `\n    }).join('');\n    categoryList.innerHTML += markup;\n}\nfunction renderTopCategoriesBooks(data) {\n    const markup = data.map(({ book_image, author, title }) => {\n        return `\n        <li class=\"gallery-item\">\n            <div class=\"ig-wrapper\">\n                <img src=\"${book_image}\" alt=\"\" class=\"book-cover\" />\n            </div>\n            <h3 class=\"book-title\">${isCorrectTextLength(title)}</h3>\n            <h5 class=\"book-author\">${isCorrectTextLength(author)}</h5>\n        </li>`\n    }).join('');\n    return markup;\n}\nfunction renderListGroup(data) {\n    categoryName.textContent = 'Best Sellers Books';\n    const { list_name, books } = data;\n    const markup = `\n    <li class=\"gallery-list-group\">\n      <h3 class=\"list-group-name\">${list_name}</h3>\n        <ul class=\"gallery-list-item\">\n          ${renderTopCategoriesBooks(books)}\n        </ul>\n      <button class=\"see-more-btn\">See more</button>\n    </li>\n  `;\n    galleryList.innerHTML += markup;\n}\nfunction renderListByCategory(data) {\n    categoryName.textContent = data[0].list_name; //беремо назву категорії у першого елемента\n    console.log(data);\n    const markup = data.map(({ book_image, title, author }) => {\n        return `\n        <li class=\"gallery-item\">\n          <img src=\"${book_image}\" alt=\"${title}\" class=\"book-cover\" />\n          <h3 class=\"book-title\">${isCorrectTextLength(title)}</h3>\n          <h5 class=\"book-author\">${isCorrectTextLength(author)}</h5>\n        </li>`\n    }).join('');\n    galleryList.innerHTML = markup;\n}\n\nasync function renderPageByCategory(e) {\n    if (e.target === e.currentTarget) return;\n    const categoryName = e.target.textContent;\n    try {\n        const response = await fetchBooksByCategory(categoryName);\n        galleryList.innerHTML = '';\n        if (response.data.length != 0) {\n            galleryList.style.cssText = 'flex-direction: row; flex-wrap: wrap';\n            renderListByCategory(response.data);\n        } else {\n            showAllCategories();\n        }\n    } catch (error) {\n        console.log(error);\n    }\n}\n\nfunction isCorrectTextLength(text) {\n    const maximumSymbolsCount = 16;\n    return (text.length >= maximumSymbolsCount) ? `${text.slice(0, maximumSymbolsCount)}...` : text;\n}\n\n//додаємо обробники подій\ncategoryList.addEventListener('click', renderPageByCategory);\nallCategories.addEventListener('click', showAllCategories);\n\n\n\n","const switcher = document.querySelector('#theme');\nconst menu = document.querySelector('.icon-menu');\nconst logo = document.querySelector('.icon-logo');\nconst shoppingList = document.querySelector('.nav-shopping');\nconst shoppingIcon=document.querySelector('.shopping-icon');\nconst body = document.body;\nconst header = document.querySelector('header');\nconst closeIcon = document.querySelector('.icon-close');\nswitcher.addEventListener('click', changeTheme);\nfunction changeTheme() {\n    if (switcher.checked) {\n        shoppingIcon.classList.add('dark-icons');\n        shoppingList.classList.add('dark-icons');\n        closeIcon.classList.add('dark-icons');\n        logo.classList.add('dark-icons');\n        menu.classList.add('dark-menu');\n        body.classList.add('dark-mode-body');\n        header.classList.add('dark-mode');\n    } else {\n        shoppingIcon.classList.remove('dark-icons');\n        shoppingList.classList.remove('dark-icons');\n        closeIcon.classList.remove('dark-icons');\n        logo.classList.remove('dark-icons');\n        menu.classList.remove('dark-menu');\n        body.classList.remove('dark-mode-body');\n        header.classList.remove('dark-mode'); \n    }\n    \n};"],"names":["categoryList","galleryList","allCategories","categoryName","fetchCategories","axios","fetchTopCategories","fetchBooksByCategory","selectedCategory","showCategoryList","response","renderCategory","showAllCategories","i","renderListGroup","data","markup","list_name","renderTopCategoriesBooks","book_image","author","title","isCorrectTextLength","books","renderListByCategory","renderPageByCategory","error","text","switcher","menu","logo","shoppingList","shoppingIcon","body","header","closeIcon","changeTheme"],"mappings":"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"}