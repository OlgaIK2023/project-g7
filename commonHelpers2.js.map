{"version":3,"file":"commonHelpers2.js","sources":["../src/js/shopping-list.js"],"sourcesContent":["import { deleteFromLS, loadFromLS } from \"./local-storage\";\nconst shoppingList = document.querySelector('.shopping-list');\nconst books = loadFromLS();\n\n\nfunction renderShopList(data) {\n    shoppingList.innerHTML = '';\n    const defaultMarkup = `<p>This page is empty, add some books and proceed to order.</p>\n        <img\n        class=\"no-book\"\n        src=\"../img/IMG_9606 1.png\"\n        alt=\"Book\"\n        />`\n    const markup = data\n        .map(({ book_image, title, author, _id, description, list_name, amazon_product_url, book_uri }) => {\n        return `<li class=\"one-book\">\n            <img\n                class=\"img-book\"\n                src=\"${book_image}\"\n                alt=\"Book\"\n            />\n            <div class=\"discription\">\n                <div class=\"up-part\">\n                <h2 class=\"book-name\">${title}</h2>\n\n                <button data-id=\"${_id}\" class=\"basket\" type=\"button\">\n                    <svg class=\"trash\" width=\"16\" height=\"16\">\n                    <use href=\"./img/icons.svg#icon-trash-031\"></use>\n                    </svg>\n                </button>\n                </div>\n                <h3 class=\"type-name\">${list_name}</h3>\n                <p class=\"text-discription\">\n                ${description}\n                </p>\n\n                <div class=\"book-app\">\n                <h3 class=\"name-author\">${author}</h3>\n                <a href=\"${amazon_product_url}\" target=\"_blank\"><img class=\"amazon\" src=\"./img/amazon.png\" alt=\"amazon\" /></a>\n                <a href=\"${book_uri}\" target=\"_blank\"><img class=\"apple\" src=\"./img/apple.png\" alt=\"apple\" /></a>\n                </div>\n            </div>\n            </li>`;\n        })\n            .join('');\n    \n    shoppingList.innerHTML = data.length > 0 ? markup : defaultMarkup;\n    \n    const booksItems = document.querySelectorAll('.shopping-list .basket');\n\n    booksItems.forEach(item => {\n        const bookId = item.getAttribute('data-id');\n        item.addEventListener('click', () => { \n            deleteFromLS(bookId);\n            const updatedBooks = loadFromLS();\n            renderShopList(updatedBooks);\n        })\n    });\n}\n\nrenderShopList(books)\n"],"names":["shoppingList","books","loadFromLS","renderShopList","data","defaultMarkup","markup","book_image","title","author","_id","description","list_name","amazon_product_url","book_uri","item","bookId","deleteFromLS","updatedBooks"],"mappings":"qDACA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAQC,EAAU,EAGxB,SAASC,EAAeC,EAAM,CAC1BJ,EAAa,UAAY,GACzB,MAAMK,EAAgB;AAAA;AAAA;AAAA;AAAA;AAAA,YAMhBC,EAASF,EACV,IAAI,CAAC,CAAE,WAAAG,EAAY,MAAAC,EAAO,OAAAC,EAAQ,IAAAC,EAAK,YAAAC,EAAa,UAAAC,EAAW,mBAAAC,EAAoB,SAAAC,KAC7E;AAAA;AAAA;AAAA,uBAGQP,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKOC,CAAK;AAAA;AAAA,mCAEVE,CAAG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAMEE,CAAS;AAAA;AAAA,kBAE/BD,CAAW;AAAA;AAAA;AAAA;AAAA,0CAIaF,CAAM;AAAA,2BACrBI,CAAkB;AAAA,2BAClBC,CAAQ;AAAA;AAAA;AAAA,kBAI1B,EACI,KAAK,EAAE,EAEhBd,EAAa,UAAYI,EAAK,OAAS,EAAIE,EAASD,EAEjC,SAAS,iBAAiB,wBAAwB,EAE1D,QAAQU,GAAQ,CACvB,MAAMC,EAASD,EAAK,aAAa,SAAS,EAC1CA,EAAK,iBAAiB,QAAS,IAAM,CACjCE,EAAaD,CAAM,EACnB,MAAME,EAAehB,IACrBC,EAAee,CAAY,CACvC,CAAS,CACT,CAAK,CACL,CAEAf,EAAeF,CAAK"}