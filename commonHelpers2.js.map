{"version":3,"file":"commonHelpers2.js","sources":["../src/img/IMG_9606 1.png","../src/js/shopping-list.js"],"sourcesContent":["export default \"__VITE_ASSET__fdf09528__\"","import { deleteFromLS, loadFromLS } from \"./local-storage\";\n\nimport amazonIcon from '../img/amazon.png';\nimport appleIcon from '../img/apple.png';\nimport sprite from '../img/icons.svg';\nimport booksIcon from '../img/IMG_9606 1.png';\n\nconst shoppingList = document.querySelector('.shopping-list');\nconst books = loadFromLS();\n\n\nexport function renderShopList(data) {\n    shoppingList.innerHTML = '';\n    const defaultMarkup = `<div class=\"empty-wrapper\">\n    <p class=\"empty\">This page is empty, add some books and proceed to order.</p>\n        <img\n        class=\"no-book\"\n        src=\"${booksIcon}\"\n        alt=\"Book\"\n        />\n    </div>`\n    const markup = data\n        .map(({ book_image, title, author, _id, description, list_name, amazon_product_url, book_uri }) => {\n            return `<li class=\"one-book\">\n            <img\n                class=\"img-book\"\n                src=\"${book_image}\"\n                alt=\"Book\"\n            />\n            <div class=\"discription\">\n                <div class=\"up-part\">\n                <h2 class=\"book-name\">${isCorrectNameLength(title)}</h2>\n\n                <button data-id=\"${_id}\" class=\"basket\" type=\"button\">\n                    <svg class=\"trash\" width=\"16\" height=\"16\">\n                    <use href=\"${sprite}#icon-trash-031\"></use>\n                    </svg>\n                </button>\n                </div>\n                <h3 class=\"type-name\">${isCorrectNameLength(list_name)}</h3>\n                <p class=\"text-discription\">\n                ${description ? isCorrectTextLength(description) : 'no description'}\n                </p>\n\n                <div class=\"book-app\">\n                <h3 class=\"name-author\">${isCorrectNameLength(author)}</h3>\n                <div class=\"books-wrapper\">\n                    <a href=\"${amazon_product_url}\" target=\"_blank\"><img class=\"amazon\" src=\"${amazonIcon}\" alt=\"amazon\" /></a>\n                    <a href=\"${book_uri}\" target=\"_blank\"><img class=\"apple\" src=\"${appleIcon}\" alt=\"apple\" /></a>\n                </div>\n                </div>\n            </div>\n            </li>`;\n        })\n        .join('');\n\n    shoppingList.innerHTML = data.length > 0 ? markup : defaultMarkup;\n\n    const booksItems = document.querySelectorAll('.shopping-list .basket');\n\n    booksItems.forEach(item => {\n        const bookId = item.getAttribute('data-id');\n        item.addEventListener('click', () => {\n            deleteFromLS(bookId);\n            const updatedBooks = loadFromLS();\n            renderShopList(updatedBooks);\n        })\n    });\n}\n\nrenderShopList(books)\n\nfunction isCorrectNameLength(text) {\n    if (window.innerWidth < 768) {\n        const maximumSymbolsCount = 15;\n        return (text.length >= maximumSymbolsCount) ? `${text.slice(0, maximumSymbolsCount)}...` : text;\n    } else {\n        return text;\n    }\n}\n\nfunction isCorrectTextLength(text) {\n    if (window.innerWidth < 768) {\n        const maximumSymbolsCount = 80;\n        return (text.length >= maximumSymbolsCount) ? `${text.slice(0, maximumSymbolsCount)}...` : text;\n    } else {\n        return text;\n    }\n}"],"names":["booksIcon","shoppingList","books","loadFromLS","renderShopList","data","defaultMarkup","markup","book_image","title","author","_id","description","list_name","amazon_product_url","book_uri","isCorrectNameLength","sprite","isCorrectTextLength","amazonIcon","appleIcon","item","bookId","deleteFromLS","updatedBooks","text"],"mappings":"gFAAA,MAAeA,EAAA,6CCOTC,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAQC,EAAU,EAGjB,SAASC,EAAeC,EAAM,CACjCJ,EAAa,UAAY,GACzB,MAAMK,EAAgB;AAAA;AAAA;AAAA;AAAA,eAIXN,CAAS;AAAA;AAAA;AAAA,YAIdO,EAASF,EACV,IAAI,CAAC,CAAE,WAAAG,EAAY,MAAAC,EAAO,OAAAC,EAAQ,IAAAC,EAAK,YAAAC,EAAa,UAAAC,EAAW,mBAAAC,EAAoB,SAAAC,KACzE;AAAA;AAAA;AAAA,uBAGIP,CAAU;AAAA;AAAA;AAAA;AAAA;AAAA,wCAKOQ,EAAoBP,CAAK,CAAC;AAAA;AAAA,mCAE/BE,CAAG;AAAA;AAAA,iCAELM,CAAM;AAAA;AAAA;AAAA;AAAA,wCAICD,EAAoBH,CAAS,CAAC;AAAA;AAAA,kBAEpDD,EAAcM,EAAoBN,CAAW,EAAI,gBAAgB;AAAA;AAAA;AAAA;AAAA,0CAIzCI,EAAoBN,CAAM,CAAC;AAAA;AAAA,+BAEtCI,CAAkB,8CAA8CK,CAAU;AAAA,+BAC1EJ,CAAQ,6CAA6CK,CAAS;AAAA;AAAA;AAAA;AAAA,kBAKpF,EACA,KAAK,EAAE,EAEZnB,EAAa,UAAYI,EAAK,OAAS,EAAIE,EAASD,EAEjC,SAAS,iBAAiB,wBAAwB,EAE1D,QAAQe,GAAQ,CACvB,MAAMC,EAASD,EAAK,aAAa,SAAS,EAC1CA,EAAK,iBAAiB,QAAS,IAAM,CACjCE,EAAaD,CAAM,EACnB,MAAME,EAAerB,IACrBC,EAAeoB,CAAY,CACvC,CAAS,CACT,CAAK,CACL,CAEApB,EAAeF,CAAK,EAEpB,SAASc,EAAoBS,EAAM,CAC/B,OAAI,OAAO,WAAa,KAEZA,EAAK,QAAU,GAAuB,GAAGA,EAAK,MAAM,EAAG,EAAmB,CAAC,MAE5EA,CAEf,CAEA,SAASP,EAAoBO,EAAM,CAC/B,OAAI,OAAO,WAAa,KAEZA,EAAK,QAAU,GAAuB,GAAGA,EAAK,MAAM,EAAG,EAAmB,CAAC,MAE5EA,CAEf"}